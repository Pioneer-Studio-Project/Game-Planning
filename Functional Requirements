기능적 요구사항

기능적 요구사항에 대한 요구사항
Fun - 게임의 재미를 위한 요구사항 >>
F1. 게임 플레이에 있어서 매 시간 경우의 수가 충분히 많아야 한다.
F2. 게임 한 판당 걸리는 시간이 과도하게 길어지면 안 된다. (Max 20분)
F3. 게임을 유리하게 이끌더라도, 예측 승률이 과도하게 높아지지 않아야 한다.
F4. 게임이 불리하게 진행되더라도, 예측 승률이 과도하게 낮아지지 않기 위해, 최소한의 역전의 기회가 보장 되어야 한다. (상실감 방지)
F5. 성장이 승리와 직결되어야 한다.
F6. 누군가 승리조건을 최종 달성하는 과정에 다른 플레이어가 방해할 기회가 충분히 보장되어야한다.
F7. 메커니즘은 간단할수록 좋다. 해당 요구사항은 다른 것들보다 우선순위가 낮다.

Setting - 게임의 설정을 위한 요구사항 >>
S1. 스토리와 컨셉이 너무 작위적이지 않아야한다.
S2. 캐릭터(인간, 괴물)는 충분히 매력적이어야 한다.
S3. 게임 내에서 부자연스러운 연출이 없어야 한다.


1 게임규칙

1.1 기술&능력
 캐릭터의 기본 능력은 항상 사용 가능
 소지 아이템들에 따라 사용 가능한 기술들이 추가됨
 소지 아이템들에 따라 패시브 능력이 추가됨
 괴물끼리는 서로 공격 불가능

1.2 사망
 체력이 0이 된 플레이어는 사망함
 사망할 시 [소지 아이템의 가격 총합] * [손실비율]만큼의 재화가 차감됨 (F4)
 인간상태에서 사망할 시 [소지 아이템의 가격 총합] * [손실비율]만큼의 재화가 필드에 떨어짐 (F4) 
 인간상태에서 사망할 시 들고 있던 만큼의 자원을 떨어드림
 사망할 시 쓰러진 상태에서의 시야가 유지되고 화면에 노이즈가 낀 듯한 연출이 추가됨
 사망할 시 [부활대기시간]만큼의 시간 후 화면이 일시적으로 암전되며 리스폰 대기 상태가 되고 체력을 모두 회복한 상태가 됨
 
1.3 자원
 맵의 특정 지점들에 자원들이 있음
 총 자원의 총량은 정해져 있음
 자원 근처에서 상호작용하여 맵에 있는 자원을 획득할 수 있음
 최대 [자원저장량]만큼까지 자원을 저장할 수 있음
 저장중인 자원이 있다면 매 초마다 [변환속도]만큼 자원을 재화로 변환함

1.4 재화
 재화 소지 최대한도가 정해져 있음
 재화가 음수값인 상태에서는 리스폰불가능
 필드에 떨어진 재화는 [재화 습득 시간]만큼의 상호작용 후 획득 가능

1.5 아이템&상점 (F7)
 소지한 아이템은 인벤토리 창에서 확인 가능
 아이템은 최대 5개까지 소지가능
 상점에서 재화를 소모하여 아이템 구매 가능
 일부 아이템들은 어떤 아이템과 재화를 함께 소모하여 구매가능
 일부 아이템들은 서로 동시에 소지 불가
 소지한 아이템을 판매하여 해당 아이템 가격만큼의 재화를 회수 가능
 아이템의 변경사항은 즉각적으로 적용되지는 
 
1.6 기타 오브젝트
 맵의 일부 오브젝트와 상호작용가능
 문과 상호작용하여 문을 열 수 있음

1.7 게임 시작 조건
 플레이어는 시작 블록에서 스폰됨
 플레이어는 일정량의 재화를 가지고 시작함

1.9 게임 종료 조건
 탈출 장비를 들고 일정시간 버틴 플레이어는 승리 판정이 되고 맵에서 사라짐
 특수 괴물 상태에게 공격당해 죽은 플레이어는 패배 판정이 되고 맵에서 사라짐
 승리또는 패배한 플레이어는 특수 괴물이 되어 맵에 다시 입장
 승리 판정이 먼저 발생할수록, 승리한 플레이어 수가 적을수록 플레이어가 더 많은 점수를 받음

2 캐릭터

2.1 모델링
 남성, 여성, 괴물들의 모델링이 구현되어야 함

2.2 모션
 각 모델링에 대해 달리기, 걷기, 앉기, 점프에 해당하는 모션이 구현되어야 함

2.3 효과음
 달리기, 걷기, 앉기, 점프, 피격, 리스폰에 해당하는 효과음이 구현되어야 함

2.4 보이스
 간단한 의사소통이 구현되어야 함
 
2.5 능력치
 캐릭터는 능력치에 해당하는 이동속도, 체력, 손실비율을 가져야함
 기본값은 이동속도=120, 체력=100, 손실비율=0.3임

2.6 기본 능력
 캐릭터가 기본적으로 사용가능한 기술

 2.6.1 걷기
  전후좌우 이동
  발소리가 달리기에 비해 적음
  
 2.6.2 달리기
  전후좌우 이동
  이동속도가 걷기에 비해 빠름
  

 2.6.3 기본 상호작용
  문을 열거나 자원을 줍는 등의 활용

 2.6.4 눈 깜빡임 (S3)
  화면이 일시적으로 암전
  리스폰 대기 상태가 아닐 때 사용 시 :
   1. 고요함 상태라면 리스폰 대기 상태가 됨
   2. 플레이어가 괴물이라면 인간으로 변하고 화면이 암전되는 시간이 증가하며 {괴물 변이 이펙트}가 연출됨
  리스폰 대기 상태에서 사용 시 :
   1. 고요함 상태이고 리스폰 대기 상태의 지속시간이 [리스폰 대기 최소 시간]이상이라면 리스폰 대기 상태 해제
   2. 괴물 토큰을 소지하고 있다면 괴물로 변하고 화면이 암전되는 시간이 증가하며 {괴물 변이 이펙트}가 연출됨
   3. 괴물 토큰을 소지하고 있다면 [리스폰 속박 시간]동안 속박 상태가 됨
   4. 괴물 토큰을 소지하고 있지 않다면 [리스폰 은신 시간]동안 눈속임 상태가 됨
   5. 아이템들의 변경사항이 적용됨

2.7 상태
 캐릭터는 특정한 상태가 될 수 있음
 
 2.7.1 리스폰 대기
  상점에 접근 가능
  다른 플레이어들과 충돌 및 상호작용이 불가능하며 서로 보이지 않음
  오브젝트들과 상호작용 불가능
  
  
 2.7.2 고요함
  다음의 조건을 충족한다면 자동으로 해당 상태가 됨
   1. 플레이어가 리스폰 대기 상태가 아님
   2. 플레이어의 시야에 다른 플레이어가 존재하지 않음
   AND
   (
   1. 플레이어가 인간
   2. 다른 인간 플레이어의 시야에 노출되지 않음
   3. 공포 상태가 아님
   OR
   1. 플레이어가 괴물
   2. 다른 플레이어의 시야에 노출되지 않음
   )
   OR
   1. 플레이어가 리스폰 대기 상태
   2. 플레이어의 전방위360도 시야에 다른 플레이어가 존재하지 않음
  위의 조건이 충족되지 않는다면 자동으로 해당 상태가 해제됨
  해당 상태가 되면 {고요 BGM}이 출력됨
 
 2.7.3 공포
  인간일 경우에만 해당 상태가 될 수 있음
  괴물의 고유 능력에 의해 해당 상태가 될 수 있음
  해당 상태가 되면 {공포 BGM}이 출력됨
  
 2.7.4 추격
  괴물일 경우에만 해당 상태가 될 수 있음
  괴물의 고유 능력으로 공포를 발동시켰을 때 그 공포의 지속시간 만큼 해당 상태가 지속됨
  해당 상태가 되면 {추격 BGM}이 출력됨
  
 2.7.5 눈속임
  괴물에게 보이지 않음
  
 2.7.6 속박
  이동속도 감소, 이동과 관련된 기술 사용 불가
  
 2.7.7 잠복
  이동 불가, 은신 상태
 
 2.7.8 변장
  대상의 모습으로 외형이 바뀜
 
 2.7.9 기절
  이동, 기술 사용, 상호작용 불가능
  
 2.7.10 표식
  [효과반경]범위에 위치 노출, 손실비율 값 1.2배
  괴물에게는 효과 없음
  
 2.7.11 실명
  화면에 흰색 화면이 일시적으로 가득 채워짐
  {굉음BGM}이 출력됨
  
 2.7.12 은신
  대상이 투명해져 파악하기 힘들다.
  시야에 일정시간 노출되면 발각

3 아이템

3.1 괴물
 괴물 아이템 소지 시 인간 아이템 구매불가
 괴물 토큰을 소지하여야 다른 괴물용 아이템 구매가능
 괴물 토큰을 판매할 시 다른 괴물용 아이템도 모두 판매됨
 괴물상태에서는 스폰 지연시간이 길어짐

3.1.1 괴물 토큰 계열
 일종의 주물과 같은 형태
 특정 괴물이 되어 공격능력들을 얻고 능력치에 변동이 생김 (F1)
 
3.1.2 괴물 종류
 소지한 토큰의 종류에 따라 괴물의 종류가 달라짐
 괴물에 따라 고유의 능력 보유
 
 3.1.2.1 거미 괴물
  스킬 사용 시 일정 시간 인간을 속박 상태에 빠뜨리는 거미줄 발사
  
3.1.2.2 코뿔소 괴물
 스킬 사용 시 돌진하여 부딪히는 인간 일정 시간 기절 상태
  
 3.1.2.3 암살자 괴물
  스킬 사용 시 일정 시간 은신 상태
  은신 상태 시 이동속도, 점프력 상승
  
 3.1.2.4 공포 괴물
  위 괴물과 마주친 플레이어는 일반 공포 시간보다 더 긴 공포시간이 지속
  스킬 사용 시 주변 플레이어 감지 및 일시적으로 공포 상태 
  
 3.1.2.5 투시 괴물
  플레이어의 은신 상태 감지
  스킬 사용 시 일시적으로 주변 오브젝트 투명화(오브젝트 투과는 불가)
  
 3.1.2.6 The illusion
  이동속도=100
  근접 공격으로 인간을 즉사시킬 수 있음
  기본적으로 은신 상태
  어떤 인간의 시야에 [The illusion 은신 지속시간]만큼 노출되면 그 인간에게는 시야에서 벗어나기 전까지 모습이 보이게 됨
  어떤 인간의 주변 반경 [The illusion 접근 범위] 내에 접근 시 그 인간에게는 모습이 보이게 됨
  자신의 모습을 보고 있는 인간은 따로 표시가 되어보임
  주변 반경 [The illusion 공포 범위] 내에 인간들에 [The illusion 공포 지속시간]만큼 공포 발동
  
 3.1.2.7 기본
  이동속도=100
  근접 공격으로 인간을 즉사시킬 수 있음
 
3.1.3 괴물 아이템

 3.1.3.1 괴물 수류탄
  플레이어에게 일시적으로 화면 흔들림과 진동 유발
 
 3.1.3.2 발자국 투시
  사용 시 주변의 인간 발자국이 표시됨
  
 3.1.3.3 괴물 트랩
  플레이어를 3초 동안 속박하는 트랩 설치 
  
 

3.2 인간
인간 아이템 소지 시 괴물 토큰 구매불가

3.2.1 탈출 장비 !
 탈출 장비를 장착하고 일정시간 버티면 게임에서 승리함 
 소지한 채로 리스폰시 다른 모든 플레이어들은 그 리스폰 위치를 잠깐 볼 수 있고 경고음을 들음 (F6) 
 다른 모든 플레이어 입장에서 그 위치는 미니맵에 표시됨
 다른 모든 플레이어 입장에서 그 위치는 지형지물을 관통하여 시야에서 바로 볼 수 있으며, 특수 이펙트와 숫자로 표기된 거리가 보임
 소지하고 있는 동안 능력치가 대폭 향상됨 (F1, F5) 
 
 3.2.1.1 이동 속도 향상
  다른 플레이어에 비해 이동속도 30% 상승
  
 3.2.1.2 점프력 향상
  다른 플레이어에 비해 점프력 30% 상승
 
 3.2.1.3 공격력 향상
  다른 플레이어에 비해 공격력 20% 상승
 
 
  
3.2.2 자원 수집 보조 계열
 자원 수집에 도움이 되는 기능을 가짐

 3.2.2.1 보조 굴삭기
  자원 수집 시간 50% 단축
  
 3.2.2.2 자원 탐지기
  일정 범위의 자원 탐지 가능
  

3.2.3 잠행 계열
 도구를 사용하여 상대를 기만할 수 있음
 
 3.2.3.1 투명망토
  디자인 컨셉 : ???
  액티브 효과 : 발동 중 은신상태 : on / off 방식
  
 3.2.3.2 변장도구
  디자인 컨셉 : ???
  액티브 효과 : 발동 중 가장 최근에 사용했던 괴물의 모습으로 변장 : on / off 방식
  
 3.2.3.3 발자국 방지 신발
  발자국을 남지기 않고 이동 가능
  괴물의 스킬에는 발각 

3.2.4 약품 계열
 약품을 사용하여 각종 버프들을 받을 수 있음
 재사용대기시간이 존재함
 
 3.2.4.1 속도 상승 캡슐
  복용 시 이동속도, 점프력 일시적으로 30% 상승
  
 3.2.4.2 상호작용 캡슐
  복용 시 일정시간동안 상호작용시간(ex) 자원 수집 시간 등)을 단축
 
 
  
 

3.2.5 정찰 장비 계열
 맵에 정찰 캠, 경보기와 같은 오브젝트를 설치하고 이를 사용할 수 있음
 설치 개수 제한이 존재함

 3.2.5.1 정찰 드론
  사용 시 드론을 꺼내 일정 거리를 대신 정찰 가능
  충격을 받거나 일정시간 경과 시 소멸
 
 3.2.5.2 경보기
  설치 후 경보기 주변으로 괴물 접근 시 플레이어에게 알림
  
 3.2.5.3 접착제
  설치 후 괴물이 지나갈 시 이동속도가 20% 느려지는 구역 생성
  
 3.2.5.4 바리케이트
  설치 시 충격을 줘야 해제되는 바리케이트 생성
  
 3.2.5.5 발자국 투시 안경
  사용 시 괴물의 발자국을 볼 수 있는 안경 
  

3.2.6 투척물 계열
 투척물을 사용하여 피격 대상에게 상태이상을 유발할 수 있음
 재사용대기시간이 존재함

 3.2.6.1 충격탄
  디자인 컨셉 : ???
  액티브 효과 : 투척물을 던짐, 피격대상은 [지속시간]동안 기절 : 재사용대기시간 10초
  
 3.2.6.2 추적 다트
  디자인 컨셉 : ???
  액티브 효과 : 투척물을 던짐, 피격대상은 [지속시간]동안 표식 : 재사용대기시간 20초
  
 3.2.6.3 섬광탄
  액티브 효과 : 투척물을 던짐, 피격대상은 [지속시간]동안 실명 : 재사용대기시간 10초

 3.2.6.4 연막탄
  액티브 효과 : 투척물을 던짐, 피격장소 일정 범위에 안개가 일시적으로 생김 : 재사용대기시간 10초

4  레벨 디자인

4.1 StartRoom
 게임 로비와 같은 역할
 처음 게임 시작시 클라이언트는 이 레벨에서 시작
 클라이언트에서만 존재하는 레벨
 집안의 방과 같은 맵에서 1인칭 시야를 제공
 맵내의 오브젝트와 상호작용할 수 있음
 디자인 컨셉 : 평범한 집의 평범한 방 & 1개의 창문, 1개의 거울, 각종 오브젝트로 구성
 
4.1.1 침대
 상호작용 시 침대에 눕고 게임을 종료할 것인가를 묻는 메세지 출력
 메세지 내의 '예' 버튼을 클릭하면 게임 종료
 메세지 내의 '아니요' 버튼을 클릭하면 침대에서 일어남
 디자인 컨셉 : {???}
 
4.1.2 방문
 상호작용 시 방문을 열고 휴대폰을 꺼내들어 보는 듯한 모션이 연출되며 매칭 인터페이스 활성화
 디자인 컨셉 : {???}
 
4.1.3 책상
 상호작용 시 로비 상점 인터페이스 활성화
 디자인 컨셉 : {???}

4.2 WaitingZone
 대기실과 같은 역할
 처음 서버 접속 시 클라이언트는 이 레벨에서 시작
 게임 시작 시 모든 플레이어들은 GameZone의 시작블록으로 이동
 메인 홀과 출입구역으로 구성됨
 
4.2.1 메인 홀
 플레이어는 처음에 메인 홀 위치에 스폰됨
 출입 구역 사이의 문을 제외한 모든 문은 닫혀있음
 출입 구역 사이의 문에 투명 벽이 있어 플레이어가 지나갈 수 없음
 게임 시작시 출입 구역 사이의 문이 닫힘
 디자인 : 게임의 시작블록과 동일한 블록
 
4.2.2 출입 구역
 디자인 : 바깥과 이어지는 것으로 보이는 출입문과 창문이 존재함
 
4.2.3 메인 홀과 출입 구역 사이의 문
 게임 시작 시 문이 닫히는 이벤트가 발생
 플레이어의 게임 준비 여부를 결정하는 경계선
 
4.3 GameZone
 디자인 컨셉 : 파티룸, 여러개의 블록들의 무작위한 조합

4.3.1 맵 구현 알고리즘

 4.3.1.1 전체 맵 생성 알고리즘
  1) 시작 블록(메인 홀)을 생성
  2) 모든 기존의 블록들과 겹치지 않고 하나 이상의 기존의 블록들과 맞닿는 형태의 블록을 추가로 생성
  3) 기존의 블록들과의 연결지점 내에 문 생성
  4) 맵 크기가 지정한 값에 도달할 때까지 2)~3)을 반복

 4.3.1.2 맵 블록 생성 알고리즘
  1) 주어진 조건을 충족하는 형태의 맵 블록 생성
  2) 구현된 조명들 중 하나를 무작위로 선택하여 조명 지정
  3) 오브젝트들을 생성
 
 4.3.1.3 오브젝트 생성 알고리즘
  1) 구현된 오브젝트들 중 하나를 무작위로 선택하여 무작위 위치에 오브젝트 생성
  2) 주어진 조명에 따라 오브젝트의 물리 특성 설정
 
 4.3.1.4 문 생성 알고리즘
  1) 구현된 문들 중 하나를 무작위로 선택하여 문 생성
 
4.3.2 블록 형태

 4.3.2.1 메인 홀
  ㅁ 모양의 홀
  디자인 컨셉 : {???}
  테이블1, 풍선1, 의자1, 전등1이 배치됨

4.3.3 블록 내 조명 및 조명 오브젝트

 4.3.3.1 기본 조명
  밝은 자주색
  
 4.3.3.2 블랙라이트 조명
  블랙라이트 조명의 색
  같은 블록 내 오브젝트들이 형광성질을 갖게 됨

4.3.4 일반 오브젝트

 4.3.4.1 테이블1
  디자인 컨셉 : {???}
  
 4.3.4.2 풍선1
  디자인 컨셉 : {???}
  
 4.3.4.3 의자1
  디자인 컨셉 : {???}
  
 4.3.4.4 전등1
  디자인 컨셉 : {???}
  
4.3.5 문

 4.3.5.1 빈 문틀
  디자인 컨셉 : {???}
  
 4.3.5.2 문1
  디자인 컨셉 : {???}


5 인터페이스 ???

5.1 게임 인터페이스
 게임 중, 사용자의 이동속도, 체력을 확인할 수 있음
 게임 중, 사용자가 보유한 아이템을 확인할 수 있음
 게임 중, 사용자의 재화를 사용할 수 있는 상점 인터페이스를 불러올 수 있음

5.1.1 미니맵
 전체 지형을 간소화해서 보여줌
 보여주는 각도는 위에서 내려다보는 것과 같음

5.1.2 게임 내 상점 인터페이스
 게임 내 상점에서는 재화를 이용하여 유용한 아이템을 구매할 수 있음
 아이템은 재화를 소모하여 물질을 생성하는 형태로 구현됨
 디자인 컨셉 : {???}

5.1.3 캐릭터 조작키
 사용자 설정에서 지정된 단축키로 캐릭터 조작 가능

5.2 매칭 인터페이스
 일반 매칭 대기 화면
 매칭 중단 기능
 디자인 컨셉 : {???}

5.3 로비 상점 인터페이스
 스킨 장착 및 탈착 가능
 로비 상점에서는 게임의 성능에는 영향을 주지 않는 외형 아이템 등을 구매할 수 있음
 로비 상점에서는 사용자 닉네임 변경 등의 편의 아이템을 구매할 수 있음
 결제는 스팀 상점과 연동된 시스템을 사용함 

5.4 사용자 설정 인터페이스
 esc 키를 눌러서 활성화
 비디오 그래픽 단계 설정 기능
 키보드, 마우스 조작 설정 기능
 개발자용 매칭 기능
 디자인 컨셉 : {???}

6 매칭

6.1 일반 매칭 시스템 ???
 매칭은 대기열을 통해서 이루어짐
 매칭은 비슷한 실력을 가진 사용자를 우선해서 이루어짐
 매칭이 길어질 시, 매칭 범위를 순차적으로 확대함
 매칭 시, 로비의 일부 기능을 사용하지 못함

6.2 개발자용 매칭 시스템
 ip를 입력받아 특정 서버접속
 

7 계정
 계정은 Steam 계정과 연동됨


